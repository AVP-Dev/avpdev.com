---
// src/pages/ru/brief.astro
import BaseLayout from "../../layouts/BaseLayout.astro";
import SuccessModal from "../../components/modals/SuccessModal.astro";
import ErrorModal from "../../components/modals/ErrorModal.astro";
import { getLangFromUrl, useTranslations } from "../../i18n/utils";

export const prerender = true;

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<BaseLayout title="brief_page_title" description="brief_page_desc">
    <section id="brief-form-section" class="case-study-header">
        <div class="container">
            <h1 class="section-title">{t("brief_title")}</h1>
            <p>{t("brief_subtitle")}</p>

            <form id="brief-form" class="brief-form" novalidate>
                <!-- ... –≤—Å–µ –ø–æ–ª—è –≤–∞—à–µ–π —Ñ–æ—Ä–º—ã –æ—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π ... -->
                <fieldset class="form-block fade-in">
                    <legend>1. –ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</legend>
                    <div class="form-group">
                        <label for="company_name"
                            >–ò–º—è / –ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏ *</label
                        >
                        <input
                            type="text"
                            id="company_name"
                            name="company_name"
                            class="form-control"
                            required
                        />
                    </div>
                    <div class="form-group">
                        <label for="contacts"
                            >–ö–æ–Ω—Ç–∞–∫—Ç—ã (–¢–µ–ª–µ—Ñ–æ–Ω, Telegram, Email) *</label
                        >
                        <input
                            type="text"
                            id="contacts"
                            name="contacts"
                            class="form-control"
                            required
                        />
                    </div>
                    <div class="form-group">
                        <label>–ü—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± —Å–≤—è–∑–∏ *</label>
                        <div class="radio-group">
                            <label
                                ><input
                                    type="radio"
                                    name="preferred_contact"
                                    value="Telegram"
                                    checked
                                /><span>Telegram</span></label
                            >
                            <label
                                ><input
                                    type="radio"
                                    name="preferred_contact"
                                    value="WhatsApp"
                                /><span>WhatsApp</span></label
                            >
                            <label
                                ><input
                                    type="radio"
                                    name="preferred_contact"
                                    value="Email"
                                /><span>Email</span></label
                            >
                            <label
                                ><input
                                    type="radio"
                                    name="preferred_contact"
                                    value="–ó–≤–æ–Ω–æ–∫"
                                /><span>–ó–≤–æ–Ω–æ–∫</span></label
                            >
                        </div>
                    </div>
                </fieldset>

                <fieldset
                    class="form-block fade-in"
                    style="transition-delay: 100ms;"
                >
                    <legend>2. –û –∫–æ–º–ø–∞–Ω–∏–∏ –∏ –ø—Ä–æ–µ–∫—Ç–µ</legend>
                    <div class="form-group">
                        <label for="business_sphere"
                            >–ö—Ä–∞—Ç–∫–æ –æ–ø–∏—à–∏—Ç–µ, —á–µ–º –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è –≤–∞—à–∞ –∫–æ–º–ø–∞–Ω–∏—è, –∫–∞–∫–∏–µ
                            —Ç–æ–≤–∞—Ä—ã –∏–ª–∏ —É—Å–ª—É–≥–∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç? *</label
                        >
                        <textarea
                            id="business_sphere"
                            name="business_sphere"
                            class="form-control"
                            rows="3"
                            required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="current_site"
                            >–ê–¥—Ä–µ—Å —Ç–µ–∫—É—â–µ–≥–æ —Å–∞–π—Ç–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å)</label
                        >
                        <input
                            type="url"
                            id="current_site"
                            name="current_site"
                            class="form-control"
                            placeholder="https://"
                        />
                    </div>
                    <div class="form-group">
                        <label for="competitors"
                            >–£–∫–∞–∂–∏—Ç–µ 2‚Äì3 –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤</label
                        >
                        <textarea
                            id="competitors"
                            name="competitors"
                            class="form-control"
                            rows="2"
                            placeholder="–°—Å—ã–ª–∫–∏ –Ω–∞ —Å–∞–π—Ç—ã –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤"
                        ></textarea>
                    </div>
                </fieldset>

                <fieldset
                    class="form-block fade-in"
                    style="transition-delay: 200ms;"
                >
                    <legend>3. –¶–µ–ª–∏ –∏ –∑–∞–¥–∞—á–∏ —Å–∞–π—Ç–∞</legend>
                    <div class="form-group">
                        <label>–ö–∞–∫–æ–≤–∞ –≥–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å —Å–æ–∑–¥–∞–Ω–∏—è —Å–∞–π—Ç–∞? *</label>
                        <div class="radio-group-vertical">
                            <label
                                ><input
                                    type="radio"
                                    name="project_goal"
                                    value="–ü—Ä–æ–¥–∞–∂–∞ —Ç–æ–≤–∞—Ä–æ–≤ –∏–ª–∏ —É—Å–ª—É–≥ –æ–Ω–ª–∞–π–Ω"
                                    checked
                                /><span>–ü—Ä–æ–¥–∞–∂–∞ —Ç–æ–≤–∞—Ä–æ–≤ –∏–ª–∏ —É—Å–ª—É–≥ –æ–Ω–ª–∞–π–Ω</span
                                ></label
                            >
                            <label
                                ><input
                                    type="radio"
                                    name="project_goal"
                                    value="–ü—Ä–∏–≤–ª–µ—á–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–æ–≤ (–ª–∏–¥–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è)"
                                /><span
                                    >–ü—Ä–∏–≤–ª–µ—á–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–æ–≤ (–ª–∏–¥–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è)</span
                                ></label
                            >
                            <label
                                ><input
                                    type="radio"
                                    name="project_goal"
                                    value="–ò–º–∏–¥–∂–µ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–æ –∫–æ–º–ø–∞–Ω–∏–∏"
                                /><span
                                    >–ò–º–∏–¥–∂–µ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–æ –∫–æ–º–ø–∞–Ω–∏–∏</span
                                ></label
                            >
                            <label
                                ><input
                                    type="radio"
                                    name="project_goal"
                                    value="–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π –ø–æ—Ä—Ç–∞–ª –∏–ª–∏ –±–ª–æ–≥"
                                /><span>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π –ø–æ—Ä—Ç–∞–ª –∏–ª–∏ –±–ª–æ–≥</span
                                ></label
                            >
                            <label
                                ><input
                                    type="radio"
                                    name="project_goal"
                                    value="–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤"
                                /><span>–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤</span
                                ></label
                            >
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="success_metrics"
                            >–ö–∞–∫ –≤—ã –±—É–¥–µ—Ç–µ –æ—Ü–µ–Ω–∏–≤–∞—Ç—å —É—Å–ø–µ—à–Ω–æ—Å—Ç—å —Å–∞–π—Ç–∞?
                            (–Ω–∞–ø—Ä–∏–º–µ—Ä, N –∑–∞—è–≤–æ–∫ –≤ –º–µ—Å—è—Ü, —Ä–æ—Å—Ç –ø—Ä–æ–¥–∞–∂ –Ω–∞ X%)</label
                        >
                        <textarea
                            id="success_metrics"
                            name="success_metrics"
                            class="form-control"
                            rows="2"></textarea>
                    </div>
                </fieldset>

                <fieldset
                    class="form-block fade-in"
                    style="transition-delay: 300ms;"
                >
                    <legend>4. –¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è</legend>
                    <div class="form-group">
                        <label for="target_audience"
                            >–û–ø–∏—à–∏—Ç–µ –≤–∞—à–µ–≥–æ —Ç–∏–ø–∏—á–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ (–≤–æ–∑—Ä–∞—Å—Ç,
                            –∏–Ω—Ç–µ—Ä–µ—Å—ã, —á–µ–º –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è)</label
                        >
                        <textarea
                            id="target_audience"
                            name="target_audience"
                            class="form-control"
                            rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="user_action"
                            >–ö–∞–∫–æ–µ –∫–ª—é—á–µ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –¥–æ–ª–∂–µ–Ω —Å–æ–≤–µ—Ä—à–∏—Ç—å –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—å
                            –Ω–∞ —Å–∞–π—Ç–µ?</label
                        >
                        <input
                            type="text"
                            id="user_action"
                            name="user_action"
                            class="form-control"
                            placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ø–æ–∑–≤–æ–Ω–∏—Ç—å, –æ—Å—Ç–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É, –∫—É–ø–∏—Ç—å —Ç–æ–≤–∞—Ä"
                        />
                    </div>
                </fieldset>

                <fieldset
                    class="form-block fade-in"
                    style="transition-delay: 400ms;"
                >
                    <legend>5. –¢–∏–ø –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Å–∞–π—Ç–∞</legend>
                    <div class="form-group">
                        <label>–ö–∞–∫–æ–π —Ç–∏–ø —Å–∞–π—Ç–∞ –≤–∞–º –Ω—É–∂–µ–Ω? *</label>
                        <div class="radio-group">
                            <label
                                ><input
                                    type="radio"
                                    name="site_type"
                                    value="–õ–µ–Ω–¥–∏–Ω–≥"
                                    checked
                                /><span>–õ–µ–Ω–¥–∏–Ω–≥</span></label
                            >
                            <label
                                ><input
                                    type="radio"
                                    name="site_type"
                                    value="–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π —Å–∞–π—Ç"
                                /><span>–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π —Å–∞–π—Ç</span></label
                            >
                            <label
                                ><input
                                    type="radio"
                                    name="site_type"
                                    value="–ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω"
                                /><span>–ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω</span></label
                            >
                            <label
                                ><input
                                    type="radio"
                                    name="site_type"
                                    value="–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"
                                /><span>–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</span></label
                            >
                        </div>
                    </div>
                    <div class="form-group">
                        <label>–ö–∞–∫–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –Ω–µ–æ–±—Ö–æ–¥–∏–º?</label>
                        <div class="checkbox-group">
                            <label
                                ><input
                                    type="checkbox"
                                    name="features"
                                    value="–ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤/—É—Å–ª—É–≥"
                                /><span>–ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤/—É—Å–ª—É–≥</span></label
                            >
                            <label
                                ><input
                                    type="checkbox"
                                    name="features"
                                    value="–ë–ª–æ–≥/–ù–æ–≤–æ—Å—Ç–∏"
                                /><span>–ë–ª–æ–≥/–ù–æ–≤–æ—Å—Ç–∏</span></label
                            >
                            <label
                                ><input
                                    type="checkbox"
                                    name="features"
                                    value="–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç"
                                /><span>–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</span></label
                            >
                            <label
                                ><input
                                    type="checkbox"
                                    name="features"
                                    value="–û–Ω–ª–∞–π–Ω-–æ–ø–ª–∞—Ç–∞"
                                /><span>–û–Ω–ª–∞–π–Ω-–æ–ø–ª–∞—Ç–∞</span></label
                            >
                            <label
                                ><input
                                    type="checkbox"
                                    name="features"
                                    value="–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å—Ç–æ–∏–º–æ—Å—Ç–∏"
                                /><span>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å—Ç–æ–∏–º–æ—Å—Ç–∏</span></label
                            >
                            <label
                                ><input
                                    type="checkbox"
                                    name="features"
                                    value="–ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç—å"
                                /><span>–ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç—å</span></label
                            >
                            <label
                                ><input
                                    type="checkbox"
                                    name="features"
                                    value="other"
                                /><span>–î—Ä—É–≥–æ–µ</span></label
                            >
                        </div>
                        <div
                            class="form-group other-input"
                            style="display: none;"
                        >
                            <input
                                type="text"
                                name="features_other"
                                class="form-control"
                                placeholder="–£–∫–∞–∂–∏—Ç–µ –¥—Ä—É–≥–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª"
                            />
                        </div>
                    </div>
                </fieldset>

                <fieldset
                    class="form-block fade-in"
                    style="transition-delay: 500ms;"
                >
                    <legend>6. –î–∏–∑–∞–π–Ω –∏ –∫–æ–Ω—Ç–µ–Ω—Ç</legend>
                    <div class="form-group">
                        <label
                            >–ï—Å—Ç—å –ª–∏ —É –≤–∞—Å —Ñ–∏—Ä–º–µ–Ω–Ω—ã–π —Å—Ç–∏–ª—å, –ª–æ–≥–æ—Ç–∏–ø, –±—Ä–µ–Ω–¥–±—É–∫?</label
                        >
                        <div class="radio-group">
                            <label
                                ><input
                                    type="radio"
                                    name="brand_identity"
                                    value="–î–∞, –≤—Å–µ –µ—Å—Ç—å"
                                    checked
                                /><span>–î–∞, –≤—Å–µ –µ—Å—Ç—å</span></label
                            >
                            <label
                                ><input
                                    type="radio"
                                    name="brand_identity"
                                    value="–ï—Å—Ç—å —Ç–æ–ª—å–∫–æ –ª–æ–≥–æ—Ç–∏–ø"
                                /><span>–ï—Å—Ç—å —Ç–æ–ª—å–∫–æ –ª–æ–≥–æ—Ç–∏–ø</span></label
                            >
                            <label
                                ><input
                                    type="radio"
                                    name="brand_identity"
                                    value="–ù–µ—Ç, –Ω—É–∂–Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞"
                                /><span>–ù–µ—Ç, –Ω—É–∂–Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞</span></label
                            >
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="design_examples"
                            >–ü—Ä–∏–≤–µ–¥–∏—Ç–µ –ø—Ä–∏–º–µ—Ä—ã 2‚Äì3 —Å–∞–π—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –≤–∞–º –Ω—Ä–∞–≤—è—Ç—Å—è
                            –ø–æ –¥–∏–∑–∞–π–Ω—É</label
                        >
                        <textarea
                            id="design_examples"
                            name="design_examples"
                            class="form-control"
                            rows="2"
                            placeholder="–°—Å—ã–ª–∫–∏ –Ω–∞ —Å–∞–π—Ç—ã"></textarea>
                    </div>
                    <div class="form-group">
                        <label
                            >–ö—Ç–æ –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç (—Ç–µ–∫—Å—Ç—ã, —Ñ–æ—Ç–æ, –≤–∏–¥–µ–æ)?</label
                        >
                        <div class="radio-group">
                            <label
                                ><input
                                    type="radio"
                                    name="content_provider"
                                    value="–£ –Ω–∞—Å –µ—Å—Ç—å –≥–æ—Ç–æ–≤—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç"
                                    checked
                                /><span>–£ –Ω–∞—Å –µ—Å—Ç—å –≥–æ—Ç–æ–≤—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç</span></label
                            >
                            <label
                                ><input
                                    type="radio"
                                    name="content_provider"
                                    value="–ö–æ–Ω—Ç–µ–Ω—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–∏–º –º—ã"
                                /><span>–ö–æ–Ω—Ç–µ–Ω—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–∏–º –º—ã</span></label
                            >
                            <label
                                ><input
                                    type="radio"
                                    name="content_provider"
                                    value="–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å –≤ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ"
                                /><span>–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å –≤ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ</span></label
                            >
                        </div>
                    </div>
                </fieldset>

                <fieldset
                    class="form-block fade-in"
                    style="transition-delay: 600ms;"
                >
                    <legend>7. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã</legend>
                    <div class="form-group">
                        <label>–ï—Å—Ç—å –ª–∏ —É –≤–∞—Å –¥–æ–º–µ–Ω –∏ —Ö–æ—Å—Ç–∏–Ω–≥?</label>
                        <div class="radio-group">
                            <label
                                ><input
                                    type="radio"
                                    name="hosting_domain"
                                    value="–î–∞, –µ—Å—Ç—å"
                                    checked
                                /><span>–î–∞, –µ—Å—Ç—å</span></label
                            >
                            <label
                                ><input
                                    type="radio"
                                    name="hosting_domain"
                                    value="–ù–µ—Ç, –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å"
                                /><span>–ù–µ—Ç, –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å</span></label
                            >
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="integrations"
                            >–ù—É–∂–Ω—ã –ª–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å–æ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ (CRM,
                            1–°, —Å–µ—Ä–≤–∏—Å—ã –¥–æ—Å—Ç–∞–≤–∫–∏, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞)?</label
                        >
                        <textarea
                            id="integrations"
                            name="integrations"
                            class="form-control"
                            rows="2"
                            placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ë–∏—Ç—Ä–∏–∫—Å24, Google Analytics"
                        ></textarea>
                    </div>
                </fieldset>

                <fieldset
                    class="form-block fade-in"
                    style="transition-delay: 700ms;"
                >
                    <legend>8. –ë—é–¥–∂–µ—Ç –∏ —Å—Ä–æ–∫–∏</legend>
                    <div class="form-group">
                        <label>–û—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–æ—á–Ω—ã–π –±—é–¥–∂–µ—Ç –Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É?</label>
                        <div class="radio-group-vertical">
                            <label
                                ><input
                                    type="radio"
                                    name="budget"
                                    value="–î–æ $500"
                                    checked
                                /><span>–î–æ $500</span></label
                            >
                            <label
                                ><input
                                    type="radio"
                                    name="budget"
                                    value="$500 - $1500"
                                /><span>$500 - $1500</span></label
                            >
                            <label
                                ><input
                                    type="radio"
                                    name="budget"
                                    value="$1500 - $3000"
                                /><span>$1500 - $3000</span></label
                            >
                            <label
                                ><input
                                    type="radio"
                                    name="budget"
                                    value="–ë–æ–ª–µ–µ $3000"
                                /><span>–ë–æ–ª–µ–µ $3000</span></label
                            >
                            <label
                                ><input
                                    type="radio"
                                    name="budget"
                                    value="–û–±—Å—É–∂–¥–∞–µ—Ç—Å—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ"
                                /><span>–û–±—Å—É–∂–¥–∞–µ—Ç—Å—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ</span></label
                            >
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="deadline"
                            >–ñ–µ–ª–∞–µ–º—ã–µ —Å—Ä–æ–∫–∏ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞?</label
                        >
                        <input
                            type="text"
                            id="deadline"
                            name="deadline"
                            class="form-control"
                        />
                    </div>
                </fieldset>

                <fieldset
                    class="form-block fade-in"
                    style="transition-delay: 900ms;"
                >
                    <legend>9. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</legend>
                    <div class="form-group">
                        <label for="additional_info"
                            >–ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ —É–∫–∞–∑–∞—Ç—å –ª—é–±—É—é –¥—Ä—É–≥—É—é –≤–∞–∂–Ω—É—é
                            –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–º–æ–∂–µ—Ç –ª—É—á—à–µ –ø–æ–Ω—è—Ç—å –≤–∞—à—É
                            –∑–∞–¥–∞—á—É.</label
                        >
                        <textarea
                            id="additional_info"
                            name="additional_info"
                            class="form-control"
                            rows="4"></textarea>
                    </div>
                </fieldset>

                <fieldset
                    class="form-block fade-in"
                    style="transition-delay: 900ms;"
                >
                    <legend>10. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ —Ä–∞–∑–≤–∏—Ç–∏–µ</legend>
                    <div class="form-group">
                        <label
                            >–ù—É–∂–Ω–∞ –ª–∏ –≤–∞–º –ø–æ–¥–¥–µ—Ä–∂–∫–∞, –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –∏–ª–∏ –¥–∞–ª—å–Ω–µ–π—à–µ–µ
                            —Ä–∞–∑–≤–∏—Ç–∏–µ —Å–∞–π—Ç–∞ –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞?</label
                        >
                        <div class="checkbox-group">
                            <label
                                ><input
                                    type="checkbox"
                                    name="support"
                                    value="–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞"
                                /><span>–î–∞, –Ω—É–∂–Ω–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞</span
                                ></label
                            >
                            <label
                                ><input
                                    type="checkbox"
                                    name="support"
                                    value="–î–∞–ª—å–Ω–µ–π—à–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ"
                                /><span
                                    >–î–∞, –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –¥–∞–ª—å–Ω–µ–π—à–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ</span
                                ></label
                            >
                            <label
                                ><input
                                    type="checkbox"
                                    name="support"
                                    value="–ù–∞ –¥–∞–Ω–Ω–æ–º —ç—Ç–∞–ø–µ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è"
                                /><span>–ù–µ—Ç, –Ω–∞ –¥–∞–Ω–Ω–æ–º —ç—Ç–∞–ø–µ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è</span
                                ></label
                            >
                            <label
                                ><input
                                    type="checkbox"
                                    name="support"
                                    value="–ó–∞—Ç—Ä—É–¥–Ω—è—é—Å—å –æ—Ç–≤–µ—Ç–∏—Ç—å"
                                /><span>–ó–∞—Ç—Ä—É–¥–Ω—è—é—Å—å –æ—Ç–≤–µ—Ç–∏—Ç—å</span></label
                            >
                        </div>
                    </div>
                </fieldset>

                <div
                    class="form-group-checkbox flex items-start gap-3 mb-6 mt-4"
                >
                    <input
                        type="checkbox"
                        id="legal-consent"
                        name="consent"
                        class="mt-1 w-5 h-5 min-w-[1.25rem] rounded border-gray-300 text-primary focus:ring-primary cursor-pointer accent-primary"
                        required
                    />
                    <label
                        for="legal-consent"
                        class="text-sm text-muted-foreground leading-snug cursor-pointer select-none"
                    >
                        –Ø –ø—Ä–∏–Ω–∏–º–∞—é —É—Å–ª–æ–≤–∏—è <a
                            href="/ru/legal/public-offer"
                            class="underline decoration-primary/50 hover:decoration-primary transition-colors"
                            >–ü—É–±–ª–∏—á–Ω–æ–π –æ—Ñ–µ—Ä—Ç—ã</a
                        > –∏ –¥–∞—é —Å–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É <a
                            href="/ru/legal/privacy-policy"
                            class="underline decoration-primary/50 hover:decoration-primary transition-colors"
                            >–ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</a
                        >.
                    </label>
                </div>

                <p
                    id="consent-error"
                    class="hidden text-red-600 text-xs font-medium mt-1 animate-pulse"
                >
                    –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —Å–æ–≥–ª–∞—Å–∏–µ —Å —É—Å–ª–æ–≤–∏—è–º–∏ –ø–µ—Ä–µ–¥
                    –æ—Ç–ø—Ä–∞–≤–∫–æ–π.
                </p>

                <div class="form-submit-container">
                    <button id="submit-button" type="submit" class="cta-button"
                        >{t("form_button")}</button
                    >
                    <div
                        id="form-spinner"
                        class="spinner"
                        style="display: none;"
                    >
                    </div>
                </div>
            </form>
        </div>
    </section>

    <SuccessModal />
    <ErrorModal />
</BaseLayout>

<script>
    document.addEventListener("astro:page-load", () => {
        const form = document.getElementById("brief-form") as HTMLFormElement;
        if (!form) return;

        // --- –õ–æ–≥–∏–∫–∞ –¥–ª—è –ø–æ–∫–∞–∑–∞/—Å–∫—Ä—ã—Ç–∏—è –ø–æ–ª—è "–î—Ä—É–≥–æ–µ" ---
        const otherCheckboxes = form.querySelectorAll<HTMLInputElement>(
            'input[type="checkbox"][value="other"]',
        );
        otherCheckboxes.forEach((checkbox) => {
            const otherInputDiv = checkbox.closest(".checkbox-group")
                ?.nextElementSibling as HTMLElement | null;
            if (
                otherInputDiv &&
                otherInputDiv.classList.contains("other-input")
            ) {
                checkbox.addEventListener("change", () => {
                    otherInputDiv.style.display = checkbox.checked
                        ? "block"
                        : "none";
                });
            }
        });

        // --- –õ–æ–≥–∏–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã ---
        const submitButton = document.getElementById(
            "submit-button",
        ) as HTMLButtonElement;
        const spinner = document.getElementById("form-spinner") as HTMLElement;
        const consentCheckbox = document.getElementById(
            "legal-consent",
        ) as HTMLInputElement;

        const consentError = document.getElementById(
            "consent-error",
        ) as HTMLElement;

        form.addEventListener("submit", async (e) => {
            e.preventDefault();

            // –°–±—Ä–æ—Å –æ—à–∏–±–æ–∫
            form.querySelectorAll(".error-field").forEach((el) =>
                el.classList.remove("error-field"),
            );
            if (consentError) consentError.classList.add("hidden");

            let isValid = true;
            form.querySelectorAll<HTMLInputElement | HTMLTextAreaElement>(
                "[required]",
            ).forEach((field) => {
                if (!field.value.trim() && field.type !== "checkbox") {
                    field.classList.add("error-field");
                    isValid = false;
                }
            });

            if (!consentCheckbox.checked) {
                consentCheckbox.classList.add("error-field");
                if (consentError) consentError.classList.remove("hidden");
                isValid = false;
            }

            if (!isValid) {
                (
                    form.querySelector(".error-field") as HTMLElement
                )?.scrollIntoView({ behavior: "smooth", block: "center" });
                return;
            }

            submitButton.style.display = "none";
            spinner.style.display = "block";

            const formData = new FormData(form);

            // Collect arrays for multiple-choice checkboxes
            const features = formData.getAll("features");
            const support = formData.getAll("support");

            // Build data object from FormData, excluding arrays we'll add manually
            const data: Record<string, any> = {};
            for (const [key, value] of formData.entries()) {
                if (key !== "features" && key !== "support") {
                    // Only take the first value for non-array fields
                    if (!data[key]) {
                        data[key] = value;
                    }
                }
            }

            // Add arrays explicitly
            if (features.length > 0) data.features = features;
            if (support.length > 0) data.support = support;

            // CRITICAL: Convert checkbox from "on"/undefined to boolean
            data.consent = formData.get("consent") === "on";

            console.log("üì§ Sending brief data:", data);

            try {
                const response = await fetch("/api/sendBrief/", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify(data),
                });

                if (response.ok) {
                    document.dispatchEvent(
                        new CustomEvent("modal:open", {
                            detail: { modalId: "success-modal" },
                        }),
                    );
                    form.reset();
                } else {
                    if (response.status === 400) {
                        const resData = await response.json();
                        if (resData.errors) {
                            Object.keys(resData.errors).forEach((key) => {
                                const input = form.querySelector(
                                    `[name="${key}"]`,
                                );
                                if (input) {
                                    input.classList.add("error-field");
                                }
                            });

                            const firstError =
                                form.querySelector(".error-field");
                            if (firstError) {
                                firstError.scrollIntoView({
                                    behavior: "smooth",
                                    block: "center",
                                });
                            }
                        }
                    } else {
                        throw new Error("Server response was not ok.");
                    }
                }
            } catch (error) {
                console.error("–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –±—Ä–∏—Ñ–∞:", error);
                document.dispatchEvent(
                    new CustomEvent("modal:open", {
                        detail: { modalId: "error-modal" },
                    }),
                );
            } finally {
                submitButton.style.display = "block";
                spinner.style.display = "none";
            }
        });
    });
</script>
```
